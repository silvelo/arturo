<mat-card class="mat-elevation-z4">
    <mat-card-header *ngIf="image; else headerNoImage">
        <img mat-card-avatar
             [src]="image"
             alt="Photo">
        <mat-card-title>{{title}}</mat-card-title>
        <mat-card-subtitle>{{subtitle}}</mat-card-subtitle>
        <mat-card-subtitle>
            <ng-container *ngTemplateOutlet="subtitleContent"></ng-container>
        </mat-card-subtitle>
    </mat-card-header>

    <ng-template #headerNoImage>
        <mat-card-title>{{title}}</mat-card-title>
        <mat-card-subtitle>{{subtitle}}</mat-card-subtitle>
        <mat-card-subtitle>
            <ng-container *ngTemplateOutlet="subtitleContent"></ng-container>
        </mat-card-subtitle>
    </ng-template>

    <mat-card-content class="description"
                      *ngIf="!!description">
        <ng-container *ngIf="!!description">
            <mat-accordion *ngIf="descriptionHide; else simpleDescription">
                <mat-expansion-panel hideToggle
                                     (opened)="panelOpenState = true"
                                     (closed)="panelOpenState = false">
                    <mat-expansion-panel-header>
                        <mat-panel-title>
                            <ng-container *ngIf="!panelOpenState; else readLess">
                                {{'COMMON.READ_MORE' | translate}}
                            </ng-container>


                            <ng-template #readLess>
                                {{'COMMON.READ_LESS' | translate}}
                            </ng-template>
                        </mat-panel-title>
                        <mat-panel-description>

                        </mat-panel-description>
                    </mat-expansion-panel-header>
                    <p [innerHTML]="description"></p>
                </mat-expansion-panel>

            </mat-accordion>
            <ng-template #simpleDescription>
                <p class="my-4">{{description}}</p>
            </ng-template>
        </ng-container>
    </mat-card-content>
    <mat-card-actions *ngIf="link">
        <a mat-stroked-button
           fxFill
           *ngIf="link"
           color="primary"
           [href]="link"
           target="_blank">
            <fa-icon [icon]="['fas','external-link']"></fa-icon>
            <span class="ml-2">{{linkText}}</span>
        </a>
    </mat-card-actions>
    <ng-content select="[actions]"></ng-content>
</mat-card>

<ng-template #subtitleContent>
    <ng-content select="[subtitle]"></ng-content>
</ng-template>