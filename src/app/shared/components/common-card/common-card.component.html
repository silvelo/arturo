<mat-card class="mat-elevation-z4">

    <ng-container *ngIf="image; else headerNoImage">
        <silvelo-card-image-header [image]="image"
                                   [title]="title"
                                   [subtitle]="subtitle"></silvelo-card-image-header>
    </ng-container>
    <ng-template #headerNoImage>
        <mat-card-title *ngIf="!image">{{title}}</mat-card-title>
        <mat-card-subtitle *ngIf="!image">{{subtitle}}</mat-card-subtitle>
        <mat-card-subtitle>
            <ng-content select="[subtitle]"></ng-content>
        </mat-card-subtitle>
    </ng-template>

    <mat-card-content class="description">
        <ng-container *ngIf="!!description">
            <mat-accordion *ngIf="descriptionHide; else simpleDescription">
                <mat-expansion-panel hideToggle
                                     (opened)="panelOpenState = true"
                                     (closed)="panelOpenState = false">
                    <mat-expansion-panel-header>
                        <mat-panel-title>
                            <ng-container *ngIf="!panelOpenState; else readLess">
                                {{'COMMON.READ_MORE' | translate}}
                            </ng-container>


                            <ng-template #readLess>
                                {{'COMMON.READ_LESS' | translate}}
                            </ng-template>
                        </mat-panel-title>
                        <mat-panel-description>

                        </mat-panel-description>
                    </mat-expansion-panel-header>
                    <p [innerHTML]="description"></p>
                </mat-expansion-panel>

            </mat-accordion>
            <ng-template #simpleDescription>
                <p class="my-2">{{description}}</p>
            </ng-template>
        </ng-container>
    </mat-card-content>
    <mat-card-actions>
        <a mat-stroked-button
           fxFill
           *ngIf="link"
           color="primary"
           [href]="link"
           target="_blank">
            <fa-icon [icon]="['fas','external-link']"></fa-icon>
            <span class="ml-2">{{linkText}}</span>
        </a>
        <ng-content select="[actions]"></ng-content>
    </mat-card-actions>
</mat-card>